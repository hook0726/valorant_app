import mwparserfromhell
wikitext="""
n===={{HiddenSort|Group A}}====\n{{GroupTableLeague|title=Group A|width=340px|diff=true|edate=August 11, 2024 - 23:00{{Abbr/KST}}\n|tournament=VCT/2024/Champions\n|tiebreaker1=series|tiebreaker2=diff\n|pbg1=up|pbg2=up|pbg3=down|pbg4=down\n|bg1=up|team1=Fnatic\n|bg2=up|team2=DRX\n|bg3=down|team3=KRÜ Esports\n|bg4=down|team4=Bilibili Gaming\n}}<section end="Group A"/>\n{{Matchlist|id=CHAMP24GrA|title=Group A Matches|width=340px|gsl=winnersfirst|attached=true|matchsection=Group A|collapsed=true\n|M1={{Match\n  |date=August 2, 2024 - 19:50 {{Abbr/KST}}|finished=true\n  |twitch=VALORANT|youtube=VALORANT Champions Tour|vlr=378656\n  |opponent1={{TeamOpponent|Fnatic}}\n  |opponent2={{TeamOpponent|Bilibili Gaming}}\n  |caster1=Paperthin|caster2=Achilios\n  |mapveto={{MapVeto\n    |firstpick=2\n    |types=ban,pick,ban,decider\n    |t1map1=Sunset|t2map1=Haven\n    |t1map2=Lotus|t2map2=Bind\n    |t1map3=Icebox|t2map3=Abyss\n    |decider=Ascent\n  }}\n  |map1={{Map\n    |t1p1={{PSI|player=Alfajer|agent=gekko|kills=15|deaths=16|assists=4|acs=196}}\n    |t1p2={{PSI|player=Boaster|agent=astra|kills=10|deaths=13|assists=10|acs=151}}\n    |t1p3={{PSI|player=Chronicle|agent=viper|kills=19|deaths=14|assists=8|acs=251}}\n    |t1p4={{PSI|player=Derke|agent=raze|kills=19|deaths=14|assists=4|acs=232}}\n    |t1p5={{PSI|player=hiro|agent=fade|kills=10|deaths=13|assists=5|acs=133}}\n\n    |t2p1={{PSI|player=Flex1n|agent=brimstone|kills=12|deaths=16|assists=7|acs=169}}\n    |t2p2={{PSI|player=Knight|agent=cypher|kills=14|deaths=14|assists=5|acs=166}}\n    |t2p3={{PSI|player=nephh|agent=skye|kills=13|deaths=14|assists=12|acs=190}}\n    |t2p4={{PSI|player=whzy|agent=raze|kills=23|deaths=16|assists=1|acs=305}}\n    |t2p5={{PSI|player=yosemite|agent=viper|kills=8|deaths=14|assists=8|acs=120}}\n\n    |t1firstside=def|t1atk=6|t1def=7|t2atk=5|t2def=4\n    |map=Bind|finished=true|length=62:05|winner=1|patch=9.02|vod=https://youtu.be/1Wn_KBYvZ-g?t=1216\n}}\n  |map2={{Map\n    |t1p1={{PSI|player=Alfajer|agent=killjoy|kills=11|deaths=13|assists=5|acs=185}}\n    |t1p2={{PSI|player=Boaster|agent=omen|kills=13|deaths=6|assists=8|acs=181}}\n    |t1p3={{PSI|player=Chronicle|agent=viper|kills=16|deaths=9|assists=2|acs=236}}\n    |t1p4={{PSI|player=Derke|agent=raze|kills=14|deaths=10|assists=4|acs=222}}\n    |t1p5={{PSI|player=hiro|agent=fade|kills=19|deaths=7|assists=10|acs=303}}\n\n    |t2p1={{PSI|player=Flex1n|agent=omen|kills=6|deaths=14|assists=6|acs=108}}\n    |t2p2={{PSI|player=Knight|agent=breach|kills=8|deaths=15|assists=8|acs=140}}\n    |t2p3={{PSI|player=nephh|agent=fade|kills=13|deaths=15|assists=1|acs=208}}\n    |t2p4={{PSI|player=whzy|agent=neon|kills=12|deaths=15|assists=4|acs=213}}\n    |t2p5={{PSI|player=yosemite|agent=cypher|kills=6|deaths=14|assists=3|acs=115}}\n\n    |t1firstside=def|t1atk=3|t1def=10|t2atk=2|t2def=2\n    |map=Lotus|finished=true|length=36:52|winner=1|patch=9.02|vod=https://youtu.be/FDcEzR3Jwzk?t=657\n}}\n  |map3={{Map|map=Ascent|finished=skip}}\n}}\n|M2={{Match\n  |date=August 2, 2024 - 17:00 {{Abbr/KST}}|finished=true\n  |twitch=VALORANT|youtube=VALORANT Champions Tour|vlr=378657\n  |opponent1={{TeamOpponent|DRX}}\n  |opponent2={{TeamOpponent|KRÜ Esports}}\n  |caster1=Sideshow|caster2=Bren\n  |mapveto={{MapVeto\n    |firstpick=2\n    |types=ban,pick,ban,decider\n    |t1map1=Lotus|t2map1=Icebox\n    |t1map2=Abyss|t2map2=Haven\n    |t1map3=Sunset|t2map3=Ascent\n    |decider=Bind\n  }}\n  |map1={{Map\n    |t1p1={{PSI|player=BeYN|agent=sova|kills=5|deaths=14|assists=3|acs=85}}\n    |t1p2={{PSI|player=BuZz|agent=jett|kills=7|deaths=15|assists=3|acs=181}}\n    |t1p3={{PSI|player=Flashback|agent=cypher|kills=9|deaths=13|assists=0|acs=171}}\n    |t1p4={{PSI|player=Foxy9|agent=breach|kills=7|deaths=14|assists=5|acs=149}}\n    |t1p5={{PSI|player=MaKo|agent=omen|kills=8|deaths=13|assists=4|acs=160}}\n\n    |t2p1={{PSI|player=heat|agent=breach|kills=10|deaths=7|assists=9|acs=170}}\n    |t2p2={{PSI|player=keznit|agent=neon|kills=18|deaths=9|assists=10|acs=365}}\n    |t2p3={{PSI|player=Melser|agent=omen|kills=22|deaths=4|assists=7|acs=394}}\n    |t2p4={{PSI|player=mta|agent=sova|kills=6|deaths=7|assists=1|acs=79}}\n    |t2p5={{PSI|player=Shyy|agent=cypher|kills=13|deaths=9|assists=10|acs=227}}\n\n    |t1firstside=atk|t1atk=2|t1def=0|t2atk=3|t2def=10\n    |map=Haven|finished=true|length=36:58|winner=2|patch=9.02|vod=https://youtu.be/hHnuh5CcrJg?t=2167\n}}\n  |map2={{Map\n    |t1p1={{PSI|player=BeYN|agent=sova|kills=15|deaths=13|assists=2|acs=206}}\n    |t1p2={{PSI|player=BuZz|agent=jett|kills=13|deaths=12|assists=7|acs=228}}\n    |t1p3={{PSI|player=Flashback|agent=cypher|kills=27|deaths=13|assists=6|acs=341}}\n    |t1p4={{PSI|player=Foxy9|agent=kayo|kills=10|deaths=11|assists=10|acs=172}}\n    |t1p5={{PSI|player=MaKo|agent=omen|kills=12|deaths=11|assists=8|acs=190}}\n\n    |t2p1={{PSI|player=heat|agent=sova|kills=12|deaths=15|assists=4|acs=174}}\n    |t2p2={{PSI|player=keznit|agent=omen|kills=16|deaths=15|assists=3|acs=242}}\n    |t2p3={{PSI|player=Melser|agent=harbor|kills=6|deaths=16|assists=6|acs=109}}\n    |t2p4={{PSI|player=mta|agent=kayo|kills=19|deaths=16|assists=9|acs=285}}\n    |t2p5={{PSI|player=Shyy|agent=cypher|kills=7|deaths=15|assists=4|acs=119}}\n\n    |t1firstside=def|t1atk=5|t1def=8|t2atk=4|t2def=2\n    |map=Abyss|finished=true|length=51:08|winner=1|patch=9.02|vod=https://youtu.be/r7H6vuqVNqc?t=547\n}}\n  |map3={{Map\n    |t1p1={{PSI|player=BeYN|agent=fade|kills=15|deaths=9|assists=5|acs=217}}\n    |t1p2={{PSI|player=BuZz|agent=raze|kills=23|deaths=14|assists=2|acs=331}}\n    |t1p3={{PSI|player=Flashback|agent=viper|kills=15|deaths=8|assists=3|acs=201}}\n    |t1p4={{PSI|player=Foxy9|agent=gekko|kills=19|deaths=12|assists=5|acs=249}}\n    |t1p5={{PSI|player=MaKo|agent=brimstone|kills=5|deaths=11|assists=9|acs=111}}\n\n    |t2p1={{PSI|player=heat|agent=fade|kills=14|deaths=17|assists=3|acs=174}}\n    |t2p2={{PSI|player=keznit|agent=raze|kills=14|deaths=16|assists=3|acs=225}}\n    |t2p3={{PSI|player=Melser|agent=brimstone|kills=8|deaths=13|assists=6|acs=137}}\n    |t2p4={{PSI|player=mta|agent=gekko|kills=6|deaths=17|assists=7|acs=122}}\n    |t2p5={{PSI|player=Shyy|agent=viper|kills=12|deaths=14|assists=4|acs=191}}\n\n    |t1firstside=def|t1atk=4|t1def=9|t2atk=3|t2def=3\n    |map=Bind|finished=true|length=45:53|winner=1|patch=9.02|vod=https://youtu.be/JokWLVjeMy4?t=412\n}}\n}}\n|M3={{Match\n  |date=August 6, 2024 - 20:30 {{Abbr/KST}}|finished=true\n  |twitch=VALORANT|youtube=VALORANT Champions Tour|vlr=378658\n  |opponent1={{TeamOpponent|fnatic}}\n  |opponent2={{TeamOpponent|drx}}\n  |caster1=Paperthin|caster2=Achilios\n  |mapveto={{MapVeto\n    |firstpick=2\n    |types=ban,pick,ban,decider\n    |t1map1=Icebox|t2map1=Haven\n    |t1map2=Lotus|t2map2=Abyss\n    |t1map3=Sunset|t2map3=Ascent\n    |decider=Bind\n  }}\n  |map1={{Map\n    |t1p1={{PSI|player=Alfajer|agent=killjoy|kills=25|deaths=16|assists=7|acs=311}}\n    |t1p2={{PSI|player=Boaster|agent=astra|kills=7|deaths=16|assists=4|acs=90}}\n    |t1p3={{PSI|player=Chronicle|agent=sova|kills=12|deaths=15|assists=6|acs=144}}\n    |t1p4={{PSI|player=Derke|agent=yoru|kills=12|deaths=18|assists=4|acs=146}}\n    |t1p5={{PSI|player=hiro|agent=viper|kills=18|deaths=18|assists=3|acs=191}}\n\n    |t2p1={{PSI|player=BeYN|agent=sova|kills=15|deaths=18|assists=8|acs=183}}\n    |t2p2={{PSI|player=BuZz|agent=jett|kills=24|deaths=13|assists=1|acs=270}}\n    |t2p3={{PSI|player=Flashback|agent=cypher|kills=13|deaths=13|assists=9|acs=148}}\n    |t2p4={{PSI|player=Foxy9|agent=kayo|kills=12|deaths=16|assists=13|acs=154}}\n    |t2p5={{PSI|player=MaKo|agent=omen|kills=18|deaths=14|assists=6|acs=201}}\n\n    |t1firstside=atk|t1atk=5|t1def=6|t2atk=6|t2def=7\n    |map=Abyss|finished=true|length=66:49|winner=2|patch=9.02|vod=https://youtu.be/Wl1QvB9pFks?t=737\n}}\n  |map2={{Map\n    |t1p1={{PSI|player=Alfajer|agent=killjoy|kills=20|deaths=12|assists=2|acs=271}}\n    |t1p2={{PSI|player=Boaster|agent=omen|kills=9|deaths=13|assists=7|acs=139}}\n    |t1p3={{PSI|player=Chronicle|agent=viper|kills=8|deaths=16|assists=4|acs=150}}\n    |t1p4={{PSI|player=Derke|agent=raze|kills=16|deaths=14|assists=3|acs=247}}\n    |t1p5={{PSI|player=hiro|agent=fade|kills=6|deaths=14|assists=9|acs=101}}\n\n    |t2p1={{PSI|player=BeYN|agent=fade|kills=10|deaths=10|assists=4|acs=138}}\n    |t2p2={{PSI|player=BuZz|agent=raze|kills=23|deaths=13|assists=1|acs=325}}\n    |t2p3={{PSI|player=Flashback|agent=viper|kills=9|deaths=10|assists=3|acs=128}}\n    |t2p4={{PSI|player=Foxy9|agent=chamber|kills=11|deaths=15|assists=1|acs=137}}\n    |t2p5={{PSI|player=MaKo|agent=omen|kills=16|deaths=11|assists=5|acs=246}}\n\n    |t1firstside=def|t1atk=1|t1def=5|t2atk=7|t2def=6\n    |map=Lotus|finished=true|length=47:03|winner=2|patch=9.02|vod=https://youtu.be/p2lL0aRNDQY?t=513\n}}\n  |map3={{Map|map=Bind|finished=skip}}\n}}\n|M4={{Match\n  |date=August 8, 2024 - 19:00 {{Abbr/KST}}|finished=true\n  |twitch=VALORANT|youtube=VALORANT Champions Tour|vlr=378659\n  |opponent1={{TeamOpponent|blg}}\n  |opponent2={{TeamOpponent|kru}}\n  |caster1=Pansy|caster2=steel\n  |mapveto={{MapVeto\n    |firstpick=2\n    |types=ban,pick,ban,decider\n    |t1map1=Haven|t2map1=Bind\n    |t1map2=Icebox|t2map2=Lotus\n    |t1map3=Ascent|t2map3=Abyss\n    |decider=Sunset\n  }}\n  |map1={{Map\n    |t1p1={{PSI|player=Flex1n|agent=omen|kills=16|deaths=19|assists=6|acs=215}}\n    |t1p2={{PSI|player=Knight|agent=breach|kills=14|deaths=17|assists=11|acs=178}}\n    |t1p3={{PSI|player=nephh|agent=fade|kills=11|deaths=17|assists=8|acs=159}}\n    |t1p4={{PSI|player=whzy|agent=neon|kills=16|deaths=20|assists=9|acs=242}}\n    |t1p5={{PSI|player=yosemite|agent=viper|kills=5|deaths=16|assists=5|acs=71}}\n\n    |t2p1={{PSI|player=heat|agent=fade|kills=21|deaths=11|assists=4|acs=244}}\n    |t2p2={{PSI|player=keznit|agent=raze|kills=17|deaths=12|assists=11|acs=258}}\n    |t2p3={{PSI|player=Melser|agent=omen|kills=14|deaths=15|assists=9|acs=181}}\n    |t2p4={{PSI|player=mta|agent=viper|kills=14|deaths=11|assists=7|acs=156}}\n    |t2p5={{PSI|player=Shyy|agent=killjoy|kills=23|deaths=13|assists=3|acs=263}}\n\n    |t1firstside=atk|t1atk=7|t1def=2|t2atk=8|t2def=5\n    |map=Lotus|finished=true|length=61:05|winner=2|patch=9.02|vod=https://youtu.be/m_znWLFI5xg?t=943\n}}\n  |map2={{Map\n    |t1p1={{PSI|player=Flex1n|agent=viper|kills=16|deaths=11|assists=6|acs=238}}\n    |t1p2={{PSI|player=Knight|agent=sage|kills=4|deaths=14|assists=9|acs=105}}\n    |t1p3={{PSI|player=nephh|agent=kayo|kills=5|deaths=16|assists=4|acs=111}}\n    |t1p4={{PSI|player=whzy|agent=jett|kills=11|deaths=17|assists=2|acs=221}}\n    |t1p5={{PSI|player=yosemite|agent=killjoy|kills=12|deaths=16|assists=2|acs=202}}\n\n    |t2p1={{PSI|player=heat|agent=gekko|kills=18|deaths=7|assists=3|acs=285}}\n    |t2p2={{PSI|player=keznit|agent=jett|kills=15|deaths=9|assists=3|acs=206}}\n    |t2p3={{PSI|player=Melser|agent=viper|kills=6|deaths=12|assists=12|acs=136}}\n    |t2p4={{PSI|player=mta|agent=sova|kills=18|deaths=9|assists=4|acs=278}}\n    |t2p5={{PSI|player=Shyy|agent=killjoy|kills=17|deaths=11|assists=3|acs=258}}\n\n    |t1firstside=atk|t1atk=3|t1def=1|t2atk=4|t2def=9\n    |map=Icebox|finished=true|length=36:20|winner=2|patch=9.02|vod=https://youtu.be/TAEOWPVIwrM?t=528\n}}\n  |map3={{Map|map=Sunset|finished=skip}}\n}}\n|M5={{Match\n  |date=August 10, 2024 - 19:10 {{Abbr/KST}}|finished=true\n  |twitch=VALORANT|youtube=VALORANT Champions Tour|vlr=378660\n  |opponent1={{TeamOpponent|fnatic}}\n  |opponent2={{TeamOpponent|kru}}\n  |caster1=Pansy|caster2=steel\n  |mapveto={{MapVeto\n    |firstpick=2\n    |types=ban,pick,ban,decider\n    |t1map1=Icebox|t2map1=Bind\n    |t1map2=Haven|t2map2=Sunset\n    |t1map3=Ascent|t2map3=Abyss\n    |decider=Lotus\n  }}\n  |map1={{Map\n    |t1p1={{PSI|player=Alfajer|agent=breach|kills=15|deaths=16|assists=11|acs=180}}\n    |t1p2={{PSI|player=Boaster|agent=astra|kills=16|deaths=14|assists=3|acs=167}}\n    |t1p3={{PSI|player=Chronicle|agent=sova|kills=24|deaths=17|assists=6|acs=297}}\n    |t1p4={{PSI|player=Derke|agent=raze|kills=14|deaths=20|assists=9|acs=201}}\n    |t1p5={{PSI|player=hiro|agent=cypher|kills=19|deaths=18|assists=6|acs=223}}\n\n    |t2p1={{PSI|player=heat|agent=breach|kills=18|deaths=17|assists=8|acs=191}}\n    |t2p2={{PSI|player=keznit|agent=neon|kills=22|deaths=19|assists=6|acs=260}}\n    |t2p3={{PSI|player=Melser|agent=omen|kills=13|deaths=17|assists=4|acs=150}}\n    |t2p4={{PSI|player=mta|agent=sova|kills=10|deaths=18|assists=5|acs=112}}\n    |t2p5={{PSI|player=Shyy|agent=cypher|kills=21|deaths=17|assists=9|acs=265}}\n\n    |t1firstside=def|t1atk=7|t1def=4|t2atk=8|t2def=5\n    |map=Sunset|finished=true|length=65:29|winner=2|patch=9.02|vod=https://youtu.be/Hm-V_1NeFec?t=1148\n}}\n  |map2={{Map\n    |t1p1={{PSI|player=Alfajer|agent=iso|kills=18|deaths=17|assists=6|acs=235}}\n    |t1p2={{PSI|player=Boaster|agent=omen|kills=15|deaths=13|assists=11|acs=188}}\n    |t1p3={{PSI|player=Chronicle|agent=sova|kills=12|deaths=10|assists=12|acs=211}}\n    |t1p4={{PSI|player=Derke|agent=yoru|kills=21|deaths=11|assists=5|acs=249}}\n    |t1p5={{PSI|player=hiro|agent=cypher|kills=13|deaths=14|assists=3|acs=151}}\n\n    |t2p1={{PSI|player=heat|agent=breach|kills=10|deaths=15|assists=6|acs=129}}\n    |t2p2={{PSI|player=keznit|agent=neon|kills=14|deaths=18|assists=7|acs=208}}\n    |t2p3={{PSI|player=Melser|agent=omen|kills=14|deaths=17|assists=1|acs=158}}\n    |t2p4={{PSI|player=mta|agent=sova|kills=13|deaths=17|assists=3|acs=175}}\n    |t2p5={{PSI|player=Shyy|agent=cypher|kills=14|deaths=12|assists=5|acs=171}}\n\n    |t1firstside=def|t1atk=7|t1def=6|t2atk=6|t2def=3\n    |map=Haven|finished=true|length=59:08|winner=1|patch=9.02|vod=https://youtu.be/7KsYYE6hW4w?t=460\n}}\n  |map3={{Map\n    |t1p1={{PSI|player=Alfajer|agent=killjoy|kills=7|deaths=11|assists=4|acs=114}}\n    |t1p2={{PSI|player=Boaster|agent=omen|kills=7|deaths=14|assists=7|acs=117}}\n    |t1p3={{PSI|player=Chronicle|agent=viper|kills=13|deaths=13|assists=6|acs=213}}\n    |t1p4={{PSI|player=Derke|agent=raze|kills=30|deaths=11|assists=5|acs=453}}\n    |t1p5={{PSI|player=hiro|agent=fade|kills=18|deaths=12|assists=3|acs=247}}\n\n    |t2p1={{PSI|player=heat|agent=fade|kills=11|deaths=16|assists=3|acs=164}}\n    |t2p2={{PSI|player=keznit|agent=raze|kills=14|deaths=14|assists=8|acs=242}}\n    |t2p3={{PSI|player=Melser|agent=omen|kills=11|deaths=15|assists=2|acs=164}}\n    |t2p4={{PSI|player=mta|agent=viper|kills=11|deaths=17|assists=6|acs=184}}\n    |t2p5={{PSI|player=Shyy|agent=killjoy|kills=14|deaths=13|assists=2|acs=195}}\n\n    |t1firstside=def|t1atk=5|t1def=8|t2atk=4|t2def=1\n    |map=Lotus|finished=true|length=45:58|winner=1|patch=9.02|vod=https://youtu.be/lJY_15gxTzU?t=484\n}}\n}}\n}}\n{{box|break|padding=2em}}\n\n
"""
wikicode = mwparserfromhell.parse(wikitext)
print(wikicode)
# matches = []
# for template in wikicode.filter_templates():
# # print(template)
#     if template.name.strip() == "Match":
#         team1 = None
#         team2 = None
#         for param in template.params:
#             # print(param)
#             if param.name.strip() == "opponent1":
#                 print(param.value)
#                 team1_template = mwparserfromhell.parse(param.value.strip_code()).filter_templates()
#                 if team1_template and team1_template[0].name.strip() == "TeamOpponent":
#                     team1 = team1_template[0].get(1).value.strip_code()
#             elif param.name.strip() == "opponent2":
#                 team2_template = mwparserfromhell.parse(param.value.strip_code()).filter_templates()
#                 if team2_template and team2_template[0].name.strip() == "TeamOpponent":
#                     team2 = team2_template[0].get(1).value.strip_code()
#         if team1 and team2:
#             matches.append((team1, team2))
#     matches
